# Yang Hansenæ–°é—»æ¯æ—¥æ›´æ–°æŒ‡å—

## ğŸ¯ æ¦‚è¿°

æœ¬æŒ‡å—æä¾›äº†å¤šç§æ–¹å¼æ¥æ¯å¤©æ›´æ–°Yang Hansençš„æ–°é—»å†…å®¹ï¼Œä»æœ€ç®€å•çš„æ‰‹åŠ¨æ›´æ–°åˆ°å®Œå…¨è‡ªåŠ¨åŒ–çš„å®šæ—¶ä»»åŠ¡ã€‚

## ğŸš€ æ–¹æ¡ˆé€‰æ‹©

### æ–¹æ¡ˆ1ï¼šä¸€é”®æ‰‹åŠ¨æ›´æ–°ï¼ˆæ¨èæ–°æ‰‹ï¼‰

**æœ€ç®€å•çš„æ–¹å¼ï¼Œé€‚åˆå¶å°”æ›´æ–°æˆ–æµ‹è¯•ï¼š**

```bash
# æ–¹å¼1: ä½¿ç”¨npmè„šæœ¬
npm run daily-update

# æ–¹å¼2: ç›´æ¥è¿è¡Œè„šæœ¬
node scripts/daily-news-update.js
```

**ç‰¹ç‚¹ï¼š**
- âœ… æ“ä½œç®€å•ï¼Œä¸€æ¡å‘½ä»¤æå®š
- âœ… å®æ—¶æŸ¥çœ‹æ›´æ–°è¿‡ç¨‹
- âœ… é€‚åˆæµ‹è¯•å’Œè°ƒè¯•
- âŒ éœ€è¦æ‰‹åŠ¨æ‰§è¡Œ

### æ–¹æ¡ˆ2ï¼šæ›´æ–°å¹¶è‡ªåŠ¨éƒ¨ç½²

**æ›´æ–°æ–°é—»æ•°æ®å¹¶è‡ªåŠ¨æäº¤åˆ°Gitï¼š**

```bash
# æ–¹å¼1: ä½¿ç”¨npmè„šæœ¬
npm run update-deploy

# æ–¹å¼2: ç›´æ¥è¿è¡Œè„šæœ¬
./scripts/update-and-deploy.sh
```

**ç‰¹ç‚¹ï¼š**
- âœ… è‡ªåŠ¨æ›´æ–°æ•°æ®
- âœ… è‡ªåŠ¨Gitæäº¤å’Œæ¨é€
- âœ… åŒ…å«æ•°æ®éªŒè¯
- âœ… è¯¦ç»†çš„æ‰§è¡Œæ—¥å¿—
- âŒ ä»éœ€æ‰‹åŠ¨æ‰§è¡Œ

### æ–¹æ¡ˆ3ï¼šå®Œå…¨è‡ªåŠ¨åŒ–å®šæ—¶ä»»åŠ¡ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰

**è®¾ç½®æ¯æ—¥è‡ªåŠ¨æ›´æ–°ï¼š**

```bash
# 1. è®¾ç½®å®šæ—¶ä»»åŠ¡
./scripts/setup-daily-cron.sh

# 2. æŒ‰ç…§æç¤ºé…ç½®crontab
crontab -e

# 3. æ·»åŠ å®šæ—¶ä»»åŠ¡ï¼ˆæ¯å¤©æ—©ä¸Š8ç‚¹ï¼‰
0 8 * * * /path/to/your/project/scripts/cron-daily-update.sh
```

**ç‰¹ç‚¹ï¼š**
- âœ… å®Œå…¨è‡ªåŠ¨åŒ–
- âœ… æ— éœ€äººå·¥å¹²é¢„
- âœ… è‡ªåŠ¨è®°å½•æ—¥å¿—
- âœ… é€‚åˆç”Ÿäº§ç¯å¢ƒ
- âŒ éœ€è¦æœåŠ¡å™¨ç¯å¢ƒ

## ğŸ“‹ è¯¦ç»†æ“ä½œæ­¥éª¤

### æ­¥éª¤1ï¼šé€‰æ‹©æ›´æ–°æ–¹å¼

æ ¹æ®ä½ çš„éœ€æ±‚é€‰æ‹©ä¸Šè¿°ä¸‰ç§æ–¹æ¡ˆä¹‹ä¸€ã€‚

### æ­¥éª¤2ï¼šæ‰§è¡Œæ›´æ–°

#### æ‰‹åŠ¨æ›´æ–°ç¤ºä¾‹ï¼š
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /path/to/yanghanson-website

# æ‰§è¡Œæ›´æ–°
npm run daily-update
```

#### è‡ªåŠ¨éƒ¨ç½²ç¤ºä¾‹ï¼š
```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /path/to/yanghanson-website

# æ‰§è¡Œæ›´æ–°å’Œéƒ¨ç½²
npm run update-deploy
```

### æ­¥éª¤3ï¼šéªŒè¯ç»“æœ

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# è®¿é—®æ–°é—»é¡µé¢
# http://localhost:3000/news
```

## ğŸ”§ é…ç½®é€‰é¡¹

### æ›´æ–°é¢‘ç‡é…ç½®

ç¼–è¾‘ `scripts/daily-news-update.js` ä¸­çš„é…ç½®ï¼š

```javascript
const pipeline = new NewsDataPipeline({
  relevanceThreshold: 0.4,  // ç›¸å…³æ€§é˜ˆå€¼ (0-1)
  maxArticles: 15,          // æœ€å¤§æ–‡ç« æ•°é‡
  timeRange: 7,             // æœç´¢å¤©æ•°èŒƒå›´
  outputPath: 'data/news.json'
});
```

### å®šæ—¶ä»»åŠ¡æ—¶é—´é…ç½®

å¸¸ç”¨çš„cronæ—¶é—´è¡¨è¾¾å¼ï¼š

```bash
# æ¯å¤©æ—©ä¸Š8ç‚¹
0 8 * * *

# æ¯å¤©ä¸­åˆ12ç‚¹
0 12 * * *

# æ¯å¤©æ™šä¸Š8ç‚¹
0 20 * * *

# æ¯12å°æ—¶
0 */12 * * *

# æ¯6å°æ—¶
0 */6 * * *
```

## ğŸ“Š ç›‘æ§å’Œæ—¥å¿—

### æŸ¥çœ‹æ›´æ–°æ—¥å¿—

```bash
# æŸ¥çœ‹æœ€æ–°æ—¥å¿—
tail -f logs/daily-update.log

# æŸ¥çœ‹å®Œæ•´æ—¥å¿—
cat logs/daily-update.log

# æŸ¥çœ‹æœ€è¿‘10æ¡æ—¥å¿—
tail -10 logs/daily-update.log
```

### æ£€æŸ¥æ›´æ–°çŠ¶æ€

```bash
# æ£€æŸ¥æ•°æ®æ–‡ä»¶æœ€åä¿®æ”¹æ—¶é—´
ls -la data/news.json

# æ£€æŸ¥Gitæäº¤å†å²
git log --oneline -5

# æ£€æŸ¥æ–°é—»æ•°é‡
node -e "console.log('æ–°é—»æ€»æ•°:', require('./data/news.json').articles.length)"
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **APIé…é¢ç”¨å®Œ**
   ```bash
   # æ£€æŸ¥APIä½¿ç”¨æƒ…å†µ
   node scripts/test-newsapi.js
   ```

2. **ç½‘ç»œè¿æ¥é—®é¢˜**
   ```bash
   # æµ‹è¯•ç½‘ç»œè¿æ¥
   curl -I https://newsapi.org
   ```

3. **æƒé™é—®é¢˜**
   ```bash
   # è®¾ç½®è„šæœ¬æ‰§è¡Œæƒé™
   chmod +x scripts/*.sh
   ```

4. **Gitæ¨é€å¤±è´¥**
   ```bash
   # æ£€æŸ¥GitçŠ¶æ€
   git status
   git pull origin main
   ```

### æ•°æ®è´¨é‡æ£€æŸ¥

```bash
# è¿è¡Œå®Œæ•´çš„æ–°é—»å¤„ç†æµç¨‹ï¼ˆåŒ…å«è¯¦ç»†æ—¥å¿—ï¼‰
npm run yang-hansen-news

# éªŒè¯æ•°æ®å®Œæ•´æ€§
npm run verify-data
```

## ğŸ“ˆ æœ€ä½³å®è·µ

### 1. å®šæœŸç›‘æ§
- æ¯å‘¨æ£€æŸ¥ä¸€æ¬¡æ›´æ–°æ—¥å¿—
- ç›‘æ§APIé…é¢ä½¿ç”¨æƒ…å†µ
- éªŒè¯æ–°é—»ç›¸å…³æ€§å’Œè´¨é‡

### 2. å¤‡ä»½ç­–ç•¥
- ç³»ç»Ÿä¼šè‡ªåŠ¨å¤‡ä»½åˆ° `data/backups/` ç›®å½•
- å»ºè®®å®šæœŸå¤‡ä»½æ•´ä¸ªé¡¹ç›®

### 3. æ€§èƒ½ä¼˜åŒ–
- é¿å…è¿‡äºé¢‘ç¹çš„æ›´æ–°ï¼ˆå»ºè®®æ¯å¤©1-2æ¬¡ï¼‰
- åˆç†è®¾ç½®æ–‡ç« æ•°é‡é™åˆ¶
- å®šæœŸæ¸…ç†æ—§çš„å¤‡ä»½æ–‡ä»¶

### 4. å®‰å…¨è€ƒè™‘
- ä¿æŠ¤APIå¯†é’¥å®‰å…¨
- å®šæœŸæ›´æ–°ä¾èµ–åŒ…
- ç›‘æ§å¼‚å¸¸è®¿é—®

## ğŸ‰ å¿«é€Ÿå¼€å§‹

å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨ï¼Œæ¨èæŒ‰ä»¥ä¸‹é¡ºåºæ“ä½œï¼š

```bash
# 1. æµ‹è¯•æ‰‹åŠ¨æ›´æ–°
npm run daily-update

# 2. æ£€æŸ¥ç»“æœ
npm run dev
# è®¿é—® http://localhost:3000/news

# 3. å¦‚æœæ»¡æ„ï¼Œè®¾ç½®è‡ªåŠ¨æ›´æ–°
./scripts/setup-daily-cron.sh

# 4. æŒ‰æç¤ºé…ç½®crontab
crontab -e
```

## ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ `logs/daily-update.log`
2. è¿è¡Œæµ‹è¯•è„šæœ¬ `npm run yang-hansen-news`
3. æ£€æŸ¥APIé…é¢çŠ¶æ€
4. éªŒè¯ç½‘ç»œè¿æ¥

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼ğŸ€**